{
  "candidates": [
    {
      "url": "https://api.github.com/repos/python/cpython/issues/128426",
      "repository_url": "https://api.github.com/repos/python/cpython",
      "labels_url": "https://api.github.com/repos/python/cpython/issues/128426/labels{/name}",
      "comments_url": "https://api.github.com/repos/python/cpython/issues/128426/comments",
      "events_url": "https://api.github.com/repos/python/cpython/issues/128426/events",
      "html_url": "https://github.com/python/cpython/issues/128426",
      "id": 2766608522,
      "node_id": "I_kwDOBN0Z8c6k5xiK",
      "number": 128426,
      "title": "Free-threading C API HOWTO should mention PySequenceFast API",
      "user": {
        "login": "ngoldbaum",
        "id": 3126246,
        "node_id": "MDQ6VXNlcjMxMjYyNDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3126246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ngoldbaum",
        "html_url": "https://github.com/ngoldbaum",
        "followers_url": "https://api.github.com/users/ngoldbaum/followers",
        "following_url": "https://api.github.com/users/ngoldbaum/following{/other_user}",
        "gists_url": "https://api.github.com/users/ngoldbaum/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ngoldbaum/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ngoldbaum/subscriptions",
        "organizations_url": "https://api.github.com/users/ngoldbaum/orgs",
        "repos_url": "https://api.github.com/users/ngoldbaum/repos",
        "events_url": "https://api.github.com/users/ngoldbaum/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ngoldbaum/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 538516109,
          "node_id": "MDU6TGFiZWw1Mzg1MTYxMDk=",
          "url": "https://api.github.com/repos/python/cpython/labels/docs",
          "name": "docs",
          "color": "09fc59",
          "default": false,
          "description": "Documentation in the Doc dir"
        },
        {
          "id": 6140426713,
          "node_id": "LA_kwDOBN0Z8c8AAAABbf952Q",
          "url": "https://api.github.com/repos/python/cpython/labels/topic-free-threading",
          "name": "topic-free-threading",
          "color": "0052cc",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2025-01-02T20:32:19Z",
      "updated_at": "2025-01-02T21:05:05Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "body": "Right now [this page](https://docs.python.org/3/howto/free-threading-extensions.html#general-api-guidelines) says that macros that access the internal state of data structures are thread-unsafe, but because `PySequenceFast` is a function I completely missed while working on NumPy that the `PySequenceFast` API is problematic. I think it's worth adding a sentence calling it out.\r\n\r\n<!-- gh-linked-prs -->\r\n### Linked PRs\r\n* gh-128428\r\n<!-- /gh-linked-prs -->\r\n",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/python/cpython/issues/128426/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/python/cpython/issues/128426/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/python/cpython/issues/128262",
      "repository_url": "https://api.github.com/repos/python/cpython",
      "labels_url": "https://api.github.com/repos/python/cpython/issues/128262/labels{/name}",
      "comments_url": "https://api.github.com/repos/python/cpython/issues/128262/comments",
      "events_url": "https://api.github.com/repos/python/cpython/issues/128262/events",
      "html_url": "https://github.com/python/cpython/issues/128262",
      "id": 2758856256,
      "node_id": "I_kwDOBN0Z8c6kcM5A",
      "number": 128262,
      "title": "Classes with __slots__ ought to be specialized when constructing instances",
      "user": {
        "login": "Fidget-Spinner",
        "id": 28750310,
        "node_id": "MDQ6VXNlcjI4NzUwMzEw",
        "avatar_url": "https://avatars.githubusercontent.com/u/28750310?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fidget-Spinner",
        "html_url": "https://github.com/Fidget-Spinner",
        "followers_url": "https://api.github.com/users/Fidget-Spinner/followers",
        "following_url": "https://api.github.com/users/Fidget-Spinner/following{/other_user}",
        "gists_url": "https://api.github.com/users/Fidget-Spinner/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Fidget-Spinner/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Fidget-Spinner/subscriptions",
        "organizations_url": "https://api.github.com/users/Fidget-Spinner/orgs",
        "repos_url": "https://api.github.com/users/Fidget-Spinner/repos",
        "events_url": "https://api.github.com/users/Fidget-Spinner/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Fidget-Spinner/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 536871772,
          "node_id": "MDU6TGFiZWw1MzY4NzE3NzI=",
          "url": "https://api.github.com/repos/python/cpython/labels/type-feature",
          "name": "type-feature",
          "color": "006b75",
          "default": false,
          "description": "A feature request or enhancement"
        },
        {
          "id": 537029789,
          "node_id": "MDU6TGFiZWw1MzcwMjk3ODk=",
          "url": "https://api.github.com/repos/python/cpython/labels/performance",
          "name": "performance",
          "color": "0052cc",
          "default": false,
          "description": "Performance or resource usage"
        },
        {
          "id": 4018668718,
          "node_id": "LA_kwDOBN0Z8c7viASu",
          "url": "https://api.github.com/repos/python/cpython/labels/interpreter-core",
          "name": "interpreter-core",
          "color": "09fc59",
          "default": false,
          "description": "(Objects, Python, Grammar, and Parser dirs)"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2024-12-25T15:11:14Z",
      "updated_at": "2024-12-26T10:57:26Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "body": "# Feature or enhancement\n\n### Proposal:\n\nRight now simple classes have the `CALL_ALLOC_AND_ENTER_INIT` specialization when calling their constructor. This however, blocks classes with `__slots__`. I propose relaxing the requirement and allowing `__slots__` classes to benefit from this specialization as well.\n\n### Has this already been discussed elsewhere?\n\nThis is a minor feature, which does not need previous discussion elsewhere\n\n### Links to previous discussion of this feature:\n\n_No response_\n\n<!-- gh-linked-prs -->\n### Linked PRs\n* gh-128263\n<!-- /gh-linked-prs -->\n",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/python/cpython/issues/128262/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/python/cpython/issues/128262/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/python/cpython/issues/128212",
      "repository_url": "https://api.github.com/repos/python/cpython",
      "labels_url": "https://api.github.com/repos/python/cpython/issues/128212/labels{/name}",
      "comments_url": "https://api.github.com/repos/python/cpython/issues/128212/comments",
      "events_url": "https://api.github.com/repos/python/cpython/issues/128212/events",
      "html_url": "https://github.com/python/cpython/issues/128212",
      "id": 2757195906,
      "node_id": "I_kwDOBN0Z8c6kV3iC",
      "number": 128212,
      "title": "Race between ` PyUnicode_SET_UTF8` and `_PyUnicode_CheckConsistency`",
      "user": {
        "login": "mpage",
        "id": 577841,
        "node_id": "MDQ6VXNlcjU3Nzg0MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/577841?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mpage",
        "html_url": "https://github.com/mpage",
        "followers_url": "https://api.github.com/users/mpage/followers",
        "following_url": "https://api.github.com/users/mpage/following{/other_user}",
        "gists_url": "https://api.github.com/users/mpage/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mpage/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mpage/subscriptions",
        "organizations_url": "https://api.github.com/users/mpage/orgs",
        "repos_url": "https://api.github.com/users/mpage/repos",
        "events_url": "https://api.github.com/users/mpage/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mpage/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 536871770,
          "node_id": "MDU6TGFiZWw1MzY4NzE3NzA=",
          "url": "https://api.github.com/repos/python/cpython/labels/type-bug",
          "name": "type-bug",
          "color": "e99695",
          "default": false,
          "description": "An unexpected behavior, bug, or error"
        },
        {
          "id": 6140426713,
          "node_id": "LA_kwDOBN0Z8c8AAAABbf952Q",
          "url": "https://api.github.com/repos/python/cpython/labels/topic-free-threading",
          "name": "topic-free-threading",
          "color": "0052cc",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 4,
      "created_at": "2024-12-24T05:18:44Z",
      "updated_at": "2025-01-02T19:58:47Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "body": "# Bug report\n\n### Bug description:\n\nReproducible by running : \n\n1. `env CC=clang CXX=clang++ ./configure --disable-gil --with-thread-sanitizer --with-pydebug && make -j`\n2. `env TSAN_OPTIONS=suppressions=${PWD}/Tools/tsan/suppressions_free_threading.txt ./python -m test --tsan test_importlib --match test_multiprocessing_pool_circular_import -F`\n\n```\n==================\nWARNING: ThreadSanitizer: data race (pid=3454844)\n  Atomic write of size 8 at 0x7fd7be2285d0 by thread T1:\n    #0 _Py_atomic_store_ptr_release /home/mpage/local/cpython/./Include/cpython/pyatomic_gcc.h:565:3 (python+0x74072e) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #1 PyUnicode_SET_UTF8 /home/mpage/local/cpython/Objects/unicodeobject.c:133:5 (python+0x74072e)\n    #2 unicode_fill_utf8 /home/mpage/local/cpython/Objects/unicodeobject.c:5916:5 (python+0x74072e)\n    #3 unicode_ensure_utf8 /home/mpage/local/cpython/Objects/unicodeobject.c:4228:19 (python+0x74072e)\n    #4 PyUnicode_AsUTF8AndSize /home/mpage/local/cpython/Objects/unicodeobject.c:4246:9 (python+0x74072e)\n    #5 write_unicode_binary /home/mpage/local/cpython/./Modules/_pickle.c:2677:12 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xa219) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #6 save_unicode /home/mpage/local/cpython/./Modules/_pickle.c:2729:13 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xa219)\n    #7 save /home/mpage/local/cpython/./Modules/_pickle.c:4392:16 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x940a) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #8 batch_dict_exact /home/mpage/local/cpython/./Modules/_pickle.c:3346:17 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xb682) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #9 save_dict /home/mpage/local/cpython/./Modules/_pickle.c:3408:22 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xb682)\n    #10 save /home/mpage/local/cpython/./Modules/_pickle.c:4402:18 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x9624) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #11 dump /home/mpage/local/cpython/./Modules/_pickle.c:4602:9 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x8068) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #12 _pickle_Pickler_dump_impl /home/mpage/local/cpython/./Modules/_pickle.c:4676:9 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x21a74) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #13 _pickle_Pickler_dump /home/mpage/local/cpython/./Modules/clinic/_pickle.c.h:73:20 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x21a74)\n    #14 cfunction_vectorcall_FASTCALL_KEYWORDS_METHOD /home/mpage/local/cpython/Objects/methodobject.c:468:24 (python+0x6924c6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #15 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:167:11 (python+0x5d48f0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #16 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #17 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:960:35 (python+0x8291e2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #18 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #19 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #20 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #21 _PyObject_VectorcallDictTstate /home/mpage/local/cpython/Objects/call.c:135:15 (python+0x5d4b88) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #22 _PyObject_Call_Prepend /home/mpage/local/cpython/Objects/call.c:504:24 (python+0x5d6bd2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #23 slot_tp_init /home/mpage/local/cpython/Objects/typeobject.c:10233:15 (python+0x71d085) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #24 type_call /home/mpage/local/cpython/Objects/typeobject.c:2185:19 (python+0x6fd01c) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #25 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #26 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #27 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #28 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:960:35 (python+0x8291e2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #29 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #30 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #31 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #32 _PyObject_VectorcallDictTstate /home/mpage/local/cpython/Objects/call.c:146:15 (python+0x5d4b64) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #33 _PyObject_Call_Prepend /home/mpage/local/cpython/Objects/call.c:504:24 (python+0x5d6bd2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #34 slot_tp_init /home/mpage/local/cpython/Objects/typeobject.c:10233:15 (python+0x71d085) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #35 type_call /home/mpage/local/cpython/Objects/typeobject.c:2185:19 (python+0x6fd01c) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #36 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #37 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #38 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #39 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:1993:35 (python+0x8310ad) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #40 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #41 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #42 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #43 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:167:11 (python+0x5dc820) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #44 method_vectorcall /home/mpage/local/cpython/Objects/classobject.c:71:20 (python+0x5dae9d) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #45 _PyVectorcall_Call /home/mpage/local/cpython/Objects/call.c:273:16 (python+0x5d619d) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #46 _PyObject_Call /home/mpage/local/cpython/Objects/call.c:348:16 (python+0x5d6413) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #47 PyObject_Call /home/mpage/local/cpython/Objects/call.c:373:12 (python+0x5d65c7) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #48 thread_run /home/mpage/local/cpython/./Modules/_threadmodule.c:346:21 (python+0xa28898) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #49 pythread_wrapper /home/mpage/local/cpython/Python/thread_pthread.h:242:5 (python+0x96a4bb) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n\n  Previous read of size 8 at 0x7fd7be2285d0 by thread T18:\n    #0 _PyUnicode_CheckConsistency /home/mpage/local/cpython/Objects/unicodeobject.c:691:13 (python+0x72f906) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #1 PyUnicode_UTF8 /home/mpage/local/cpython/Objects/unicodeobject.c:122:5 (python+0x73018f) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #2 unicode_ensure_utf8 /home/mpage/local/cpython/Objects/unicodeobject.c:4225:9 (python+0x74036b) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #3 PyUnicode_AsUTF8AndSize /home/mpage/local/cpython/Objects/unicodeobject.c:4246:9 (python+0x74036b)\n    #4 write_unicode_binary /home/mpage/local/cpython/./Modules/_pickle.c:2677:12 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xa219) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #5 save_unicode /home/mpage/local/cpython/./Modules/_pickle.c:2729:13 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xa219)\n    #6 save /home/mpage/local/cpython/./Modules/_pickle.c:4392:16 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x940a) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #7 batch_dict_exact /home/mpage/local/cpython/./Modules/_pickle.c:3346:17 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xb682) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #8 save_dict /home/mpage/local/cpython/./Modules/_pickle.c:3408:22 (_pickle.cpython-314td-x86_64-linux-gnu.so+0xb682)\n    #9 save /home/mpage/local/cpython/./Modules/_pickle.c:4402:18 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x9624) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #10 dump /home/mpage/local/cpython/./Modules/_pickle.c:4602:9 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x8068) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #11 _pickle_Pickler_dump_impl /home/mpage/local/cpython/./Modules/_pickle.c:4676:9 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x21a74) (BuildId: e2f310e804661a33ae374de41f9979004e07a1e7)\n    #12 _pickle_Pickler_dump /home/mpage/local/cpython/./Modules/clinic/_pickle.c.h:73:20 (_pickle.cpython-314td-x86_64-linux-gnu.so+0x21a74)\n    #13 cfunction_vectorcall_FASTCALL_KEYWORDS_METHOD /home/mpage/local/cpython/Objects/methodobject.c:468:24 (python+0x6924c6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #14 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:167:11 (python+0x5d48f0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #15 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #16 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:960:35 (python+0x8291e2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #17 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #18 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #19 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #20 _PyObject_VectorcallDictTstate /home/mpage/local/cpython/Objects/call.c:135:15 (python+0x5d4b88) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #21 _PyObject_Call_Prepend /home/mpage/local/cpython/Objects/call.c:504:24 (python+0x5d6bd2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #22 slot_tp_init /home/mpage/local/cpython/Objects/typeobject.c:10233:15 (python+0x71d085) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #23 type_call /home/mpage/local/cpython/Objects/typeobject.c:2185:19 (python+0x6fd01c) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #24 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #25 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #26 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #27 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:960:35 (python+0x8291e2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #28 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #29 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #30 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #31 _PyObject_VectorcallDictTstate /home/mpage/local/cpython/Objects/call.c:146:15 (python+0x5d4b64) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #32 _PyObject_Call_Prepend /home/mpage/local/cpython/Objects/call.c:504:24 (python+0x5d6bd2) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #33 slot_tp_init /home/mpage/local/cpython/Objects/typeobject.c:10233:15 (python+0x71d085) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #34 type_call /home/mpage/local/cpython/Objects/typeobject.c:2185:19 (python+0x6fd01c) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #35 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #36 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #37 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #38 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:1993:35 (python+0x8310ad) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #39 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #40 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #41 _PyFunction_Vectorcall /home/mpage/local/cpython/Objects/call.c (python+0x5d6799) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #42 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:167:11 (python+0x5dc820) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #43 method_vectorcall /home/mpage/local/cpython/Objects/classobject.c:71:20 (python+0x5dae9d) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #44 _PyVectorcall_Call /home/mpage/local/cpython/Objects/call.c:273:16 (python+0x5d619d) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #45 _PyObject_Call /home/mpage/local/cpython/Objects/call.c:348:16 (python+0x5d6413) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #46 PyObject_Call /home/mpage/local/cpython/Objects/call.c:373:12 (python+0x5d65c7) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #47 thread_run /home/mpage/local/cpython/./Modules/_threadmodule.c:346:21 (python+0xa28898) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #48 pythread_wrapper /home/mpage/local/cpython/Python/thread_pthread.h:242:5 (python+0x96a4bb) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n\n  Thread T1 'Thread-1 (t)' (tid=3454868, running) created by main thread at:\n    #0 pthread_create <null> (python+0x47a2df) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #1 do_start_joinable_thread /home/mpage/local/cpython/Python/thread_pthread.h:289:14 (python+0x96920b) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #2 PyThread_start_joinable_thread /home/mpage/local/cpython/Python/thread_pthread.h:313:9 (python+0x96904a) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #3 ThreadHandle_start /home/mpage/local/cpython/./Modules/_threadmodule.c:431:9 (python+0xa283d0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #4 do_start_new_thread /home/mpage/local/cpython/./Modules/_threadmodule.c:1794:9 (python+0xa283d0)\n    #5 thread_PyThread_start_joinable_thread /home/mpage/local/cpython/./Modules/_threadmodule.c:1917:14 (python+0xa26a27) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #6 cfunction_call /home/mpage/local/cpython/Objects/methodobject.c:551:18 (python+0x693086) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #7 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #8 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #9 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #10 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:1993:35 (python+0x8310ad) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #11 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #12 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #13 PyEval_EvalCode /home/mpage/local/cpython/Python/ceval.c:658:21 (python+0x8212a6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #14 run_eval_code_obj /home/mpage/local/cpython/Python/pythonrun.c:1338:9 (python+0x94517b) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #15 run_mod /home/mpage/local/cpython/Python/pythonrun.c:1423:19 (python+0x944cfe) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #16 pyrun_file /home/mpage/local/cpython/Python/pythonrun.c:1256:15 (python+0x93f898) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #17 _PyRun_SimpleFileObject /home/mpage/local/cpython/Python/pythonrun.c:491:13 (python+0x93f898)\n    #18 _PyRun_AnyFileObject /home/mpage/local/cpython/Python/pythonrun.c:78:15 (python+0x93f059) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #19 pymain_run_file_obj /home/mpage/local/cpython/Modules/main.c:410:15 (python+0x9865f6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #20 pymain_run_file /home/mpage/local/cpython/Modules/main.c:429:15 (python+0x9865f6)\n    #21 pymain_run_python /home/mpage/local/cpython/Modules/main.c:697:21 (python+0x985569) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #22 Py_RunMain /home/mpage/local/cpython/Modules/main.c:776:5 (python+0x985569)\n    #23 pymain_main /home/mpage/local/cpython/Modules/main.c:806:12 (python+0x985a99) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #24 Py_BytesMain /home/mpage/local/cpython/Modules/main.c:830:12 (python+0x985b19) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #25 main /home/mpage/local/cpython/./Programs/python.c:15:12 (python+0x4f8250) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n\n  Thread T18 'Thread-18 (t)' (tid=3454886, running) created by main thread at:\n    #0 pthread_create <null> (python+0x47a2df) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #1 do_start_joinable_thread /home/mpage/local/cpython/Python/thread_pthread.h:289:14 (python+0x96920b) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #2 PyThread_start_joinable_thread /home/mpage/local/cpython/Python/thread_pthread.h:313:9 (python+0x96904a) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #3 ThreadHandle_start /home/mpage/local/cpython/./Modules/_threadmodule.c:431:9 (python+0xa283d0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #4 do_start_new_thread /home/mpage/local/cpython/./Modules/_threadmodule.c:1794:9 (python+0xa283d0)\n    #5 thread_PyThread_start_joinable_thread /home/mpage/local/cpython/./Modules/_threadmodule.c:1917:14 (python+0xa26a27) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #6 cfunction_call /home/mpage/local/cpython/Objects/methodobject.c:551:18 (python+0x693086) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #7 _PyObject_MakeTpCall /home/mpage/local/cpython/Objects/call.c:242:18 (python+0x5d4fd1) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #8 _PyObject_VectorcallTstate /home/mpage/local/cpython/./Include/internal/pycore_call.h:165:16 (python+0x5d4918) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #9 PyObject_Vectorcall /home/mpage/local/cpython/Objects/call.c:327:12 (python+0x5d62b0) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #10 _PyEval_EvalFrameDefault /home/mpage/local/cpython/Python/generated_cases.c.h:2195:35 (python+0x832b51) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #11 _PyEval_EvalFrame /home/mpage/local/cpython/./Include/internal/pycore_ceval.h:116:16 (python+0x8219b6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #12 _PyEval_Vector /home/mpage/local/cpython/Python/ceval.c:1911:12 (python+0x8219b6)\n    #13 PyEval_EvalCode /home/mpage/local/cpython/Python/ceval.c:658:21 (python+0x8212a6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #14 run_eval_code_obj /home/mpage/local/cpython/Python/pythonrun.c:1338:9 (python+0x94517b) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #15 run_mod /home/mpage/local/cpython/Python/pythonrun.c:1423:19 (python+0x944cfe) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #16 pyrun_file /home/mpage/local/cpython/Python/pythonrun.c:1256:15 (python+0x93f898) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #17 _PyRun_SimpleFileObject /home/mpage/local/cpython/Python/pythonrun.c:491:13 (python+0x93f898)\n    #18 _PyRun_AnyFileObject /home/mpage/local/cpython/Python/pythonrun.c:78:15 (python+0x93f059) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #19 pymain_run_file_obj /home/mpage/local/cpython/Modules/main.c:410:15 (python+0x9865f6) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #20 pymain_run_file /home/mpage/local/cpython/Modules/main.c:429:15 (python+0x9865f6)\n    #21 pymain_run_python /home/mpage/local/cpython/Modules/main.c:697:21 (python+0x985569) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #22 Py_RunMain /home/mpage/local/cpython/Modules/main.c:776:5 (python+0x985569)\n    #23 pymain_main /home/mpage/local/cpython/Modules/main.c:806:12 (python+0x985a99) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #24 Py_BytesMain /home/mpage/local/cpython/Modules/main.c:830:12 (python+0x985b19) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n    #25 main /home/mpage/local/cpython/./Programs/python.c:15:12 (python+0x4f8250) (BuildId: 09e963041ced7dc45ee41bb522bc04b7063f3ff9)\n\nSUMMARY: ThreadSanitizer: data race /home/mpage/local/cpython/./Include/cpython/pyatomic_gcc.h:565:3 in _Py_atomic_store_ptr_release\n==================\nThreadSanitizer: reported 1 warnings\n```\n\n\n### CPython versions tested on:\n\nCPython main branch\n\n### Operating systems tested on:\n\nLinux\n\n<!-- gh-linked-prs -->\n### Linked PRs\n* gh-128367\n<!-- /gh-linked-prs -->\n",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/python/cpython/issues/128212/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/python/cpython/issues/128212/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/python/cpython/issues/128100",
      "repository_url": "https://api.github.com/repos/python/cpython",
      "labels_url": "https://api.github.com/repos/python/cpython/issues/128100/labels{/name}",
      "comments_url": "https://api.github.com/repos/python/cpython/issues/128100/comments",
      "events_url": "https://api.github.com/repos/python/cpython/issues/128100/events",
      "html_url": "https://github.com/python/cpython/issues/128100",
      "id": 2750923435,
      "node_id": "I_kwDOBN0Z8c6j98Kr",
      "number": 128100,
      "title": "Race between _PyObject_GenericGetAttrWithDict and ensure_nonmanaged_dict under free-threading",
      "user": {
        "login": "hawkinsp",
        "id": 348932,
        "node_id": "MDQ6VXNlcjM0ODkzMg==",
        "avatar_url": "https://avatars.githubusercontent.com/u/348932?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hawkinsp",
        "html_url": "https://github.com/hawkinsp",
        "followers_url": "https://api.github.com/users/hawkinsp/followers",
        "following_url": "https://api.github.com/users/hawkinsp/following{/other_user}",
        "gists_url": "https://api.github.com/users/hawkinsp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hawkinsp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hawkinsp/subscriptions",
        "organizations_url": "https://api.github.com/users/hawkinsp/orgs",
        "repos_url": "https://api.github.com/users/hawkinsp/repos",
        "events_url": "https://api.github.com/users/hawkinsp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hawkinsp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 536871770,
          "node_id": "MDU6TGFiZWw1MzY4NzE3NzA=",
          "url": "https://api.github.com/repos/python/cpython/labels/type-bug",
          "name": "type-bug",
          "color": "e99695",
          "default": false,
          "description": "An unexpected behavior, bug, or error"
        },
        {
          "id": 5354314490,
          "node_id": "LA_kwDOBN0Z8c8AAAABPyRa-g",
          "url": "https://api.github.com/repos/python/cpython/labels/3.13",
          "name": "3.13",
          "color": "2e730f",
          "default": false,
          "description": "bugs and security fixes"
        },
        {
          "id": 6140426713,
          "node_id": "LA_kwDOBN0Z8c8AAAABbf952Q",
          "url": "https://api.github.com/repos/python/cpython/labels/topic-free-threading",
          "name": "topic-free-threading",
          "color": "0052cc",
          "default": false,
          "description": ""
        },
        {
          "id": 6924881042,
          "node_id": "LA_kwDOBN0Z8c8AAAABnMFMkg",
          "url": "https://api.github.com/repos/python/cpython/labels/3.14",
          "name": "3.14",
          "color": "2e730f",
          "default": false,
          "description": "new features, bugs and security fixes"
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 2,
      "created_at": "2024-12-19T16:51:06Z",
      "updated_at": "2024-12-27T20:02:38Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "active_lock_reason": null,
      "body": "# Bug report\n\n### Bug description:\n\nUnder Python 3.13.1t build with thread-sanitizer:\n```python\nimport concurrent.futures\nimport functools\nimport threading\n\nnum_threads = 100\n\n\ndef closure(b, o):\n  b.wait()\n  getattr(o, \"foo\", None)\n  o.foo = 42\n\nwith concurrent.futures.ThreadPoolExecutor(max_workers=num_threads) as executor:\n  for _ in range(100):\n    b = threading.Barrier(num_threads)\n    o = functools.partial(lambda x: x, 42)\n    for _ in range(num_threads):\n      executor.submit(functools.partial(closure, b, o))\n```\n\nGet (it may take a few runs):\n```\nWARNING: ThreadSanitizer: data race (pid=239136)\n  Read of size 8 at 0x7fa5e69e6a28 by thread T91:\n    #0 _PyObject_GenericGetAttrWithDict /usr/local/google/home/phawkins/p/cpython/Objects/object.c:1665:24 (python3.13+0x2960a5) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #1 PyObject_GetOptionalAttr /usr/local/google/home/phawkins/p/cpython/Objects/object.c:1266:19 (python3.13+0x2930c4) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #2 builtin_getattr /usr/local/google/home/phawkins/p/cpython/Python/bltinmodule.c:1200:13 (python3.13+0x3d8bf9) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #3 cfunction_vectorcall_FASTCALL /usr/local/google/home/phawkins/p/cpython/Objects/methodobject.c:425:24 (python3.13+0x289efb) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #4 _PyObject_VectorcallTstate /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_call.h:168:11 (python3.13+0x1eafaa) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #5 PyObject_Vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/call.c:327:12 (python3.13+0x1eafaa)\n    #6 _PyEval_EvalFrameDefault /usr/local/google/home/phawkins/p/cpython/Python/generated_cases.c.h:813:23 (python3.13+0x3e24fb) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #7 _PyEval_EvalFrame /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_ceval.h:119:16 (python3.13+0x3de62a) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #8 _PyEval_Vector /usr/local/google/home/phawkins/p/cpython/Python/ceval.c:1811:12 (python3.13+0x3de62a)\n    #9 _PyFunction_Vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/call.c (python3.13+0x1eb61f) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #10 _PyObject_VectorcallTstate /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_call.h:168:11 (python3.13+0x571bb2) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #11 partial_vectorcall /usr/local/google/home/phawkins/p/cpython/./Modules/_functoolsmodule.c:252:16 (python3.13+0x571bb2)\n    #12 _PyVectorcall_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:273:16 (python3.13+0x1eb293) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #13 _PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:348:16 (python3.13+0x1eb293)\n    #14 PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:373:12 (python3.13+0x1eb315) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #15 _PyEval_EvalFrameDefault /usr/local/google/home/phawkins/p/cpython/Python/generated_cases.c.h:1355:26 (python3.13+0x3e46e2) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #16 _PyEval_EvalFrame /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_ceval.h:119:16 (python3.13+0x3de62a) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #17 _PyEval_Vector /usr/local/google/home/phawkins/p/cpython/Python/ceval.c:1811:12 (python3.13+0x3de62a)\n    #18 _PyFunction_Vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/call.c (python3.13+0x1eb61f) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #19 _PyObject_VectorcallTstate /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_call.h:168:11 (python3.13+0x1ef5ef) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #20 method_vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/classobject.c:70:20 (python3.13+0x1ef5ef)\n    #21 _PyVectorcall_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:273:16 (python3.13+0x1eb293) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #22 _PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:348:16 (python3.13+0x1eb293)\n    #23 PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:373:12 (python3.13+0x1eb315) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #24 thread_run /usr/local/google/home/phawkins/p/cpython/./Modules/_threadmodule.c:337:21 (python3.13+0x564292) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #25 pythread_wrapper /usr/local/google/home/phawkins/p/cpython/Python/thread_pthread.h:243:5 (python3.13+0x4bd637) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n\n  Previous atomic write of size 8 at 0x7fa5e69e6a28 by thread T18:\n    #0 _Py_atomic_store_ptr_release /usr/local/google/home/phawkins/p/cpython/./Include/cpython/pyatomic_gcc.h:501:3 (python3.13+0x272a17) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #1 ensure_nonmanaged_dict /usr/local/google/home/phawkins/p/cpython/Objects/dictobject.c:7275:9 (python3.13+0x272a17)\n    #2 _PyObjectDict_SetItem /usr/local/google/home/phawkins/p/cpython/Objects/dictobject.c:7311:12 (python3.13+0x272aee) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #3 _PyObject_GenericSetAttrWithDict /usr/local/google/home/phawkins/p/cpython/Objects/object.c:1791:19 (python3.13+0x297c8e) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #4 PyObject_GenericSetAttr /usr/local/google/home/phawkins/p/cpython/Objects/object.c:1819:12 (python3.13+0x298667) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #5 PyObject_SetAttr /usr/local/google/home/phawkins/p/cpython/Objects/object.c:1385:15 (python3.13+0x294f8a) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #6 _PyEval_EvalFrameDefault /usr/local/google/home/phawkins/p/cpython/Python/generated_cases.c.h:5488:27 (python3.13+0x3f3f6d) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #7 _PyEval_EvalFrame /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_ceval.h:119:16 (python3.13+0x3de62a) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #8 _PyEval_Vector /usr/local/google/home/phawkins/p/cpython/Python/ceval.c:1811:12 (python3.13+0x3de62a)\n    #9 _PyFunction_Vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/call.c (python3.13+0x1eb61f) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #10 _PyObject_VectorcallTstate /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_call.h:168:11 (python3.13+0x571bb2) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #11 partial_vectorcall /usr/local/google/home/phawkins/p/cpython/./Modules/_functoolsmodule.c:252:16 (python3.13+0x571bb2)\n    #12 _PyVectorcall_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:273:16 (python3.13+0x1eb293) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #13 _PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:348:16 (python3.13+0x1eb293)\n    #14 PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:373:12 (python3.13+0x1eb315) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #15 _PyEval_EvalFrameDefault /usr/local/google/home/phawkins/p/cpython/Python/generated_cases.c.h:1355:26 (python3.13+0x3e46e2) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #16 _PyEval_EvalFrame /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_ceval.h:119:16 (python3.13+0x3de62a) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #17 _PyEval_Vector /usr/local/google/home/phawkins/p/cpython/Python/ceval.c:1811:12 (python3.13+0x3de62a)\n    #18 _PyFunction_Vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/call.c (python3.13+0x1eb61f) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #19 _PyObject_VectorcallTstate /usr/local/google/home/phawkins/p/cpython/./Include/internal/pycore_call.h:168:11 (python3.13+0x1ef5ef) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #20 method_vectorcall /usr/local/google/home/phawkins/p/cpython/Objects/classobject.c:70:20 (python3.13+0x1ef5ef)\n    #21 _PyVectorcall_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:273:16 (python3.13+0x1eb293) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #22 _PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:348:16 (python3.13+0x1eb293)\n    #23 PyObject_Call /usr/local/google/home/phawkins/p/cpython/Objects/call.c:373:12 (python3.13+0x1eb315) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #24 thread_run /usr/local/google/home/phawkins/p/cpython/./Modules/_threadmodule.c:337:21 (python3.13+0x564292) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n    #25 pythread_wrapper /usr/local/google/home/phawkins/p/cpython/Python/thread_pthread.h:243:5 (python3.13+0x4bd637) (BuildId: 9c1c16fb1bb8a435fa6fa4c6944da5d41f654e96)\n```\n\n\n### CPython versions tested on:\n\n3.13\n\n### Operating systems tested on:\n\nLinux\n\n<!-- gh-linked-prs -->\n### Linked PRs\n* gh-128297\n<!-- /gh-linked-prs -->\n",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/python/cpython/issues/128100/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/python/cpython/issues/128100/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/python/cpython/issues/128069",
      "repository_url": "https://api.github.com/repos/python/cpython",
      "labels_url": "https://api.github.com/repos/python/cpython/issues/128069/labels{/name}",
      "comments_url": "https://api.github.com/repos/python/cpython/issues/128069/comments",
      "events_url": "https://api.github.com/repos/python/cpython/issues/128069/events",
      "html_url": "https://github.com/python/cpython/issues/128069",
      "id": 2747988280,
      "node_id": "I_kwDOBN0Z8c6jyvk4",
      "number": 128069,
      "title": "macOS fails to install dependencies: Could not symlink lib/libtcl8.6.dylib",
      "user": {
        "login": "vstinner",
        "id": 194129,
        "node_id": "MDQ6VXNlcjE5NDEyOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/194129?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vstinner",
        "html_url": "https://github.com/vstinner",
        "followers_url": "https://api.github.com/users/vstinner/followers",
        "following_url": "https://api.github.com/users/vstinner/following{/other_user}",
        "gists_url": "https://api.github.com/users/vstinner/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vstinner/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vstinner/subscriptions",
        "organizations_url": "https://api.github.com/users/vstinner/orgs",
        "repos_url": "https://api.github.com/users/vstinner/repos",
        "events_url": "https://api.github.com/users/vstinner/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vstinner/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 588881297,
          "node_id": "MDU6TGFiZWw1ODg4ODEyOTc=",
          "url": "https://api.github.com/repos/python/cpython/labels/OS-mac",
          "name": "OS-mac",
          "color": "d4c5f9",
          "default": false,
          "description": null
        },
        {
          "id": 7527065505,
          "node_id": "LA_kwDOBN0Z8c8AAAABwKXnoQ",
          "url": "https://api.github.com/repos/python/cpython/labels/infra",
          "name": "infra",
          "color": "5319e7",
          "default": false,
          "description": "CI, GitHub Actions, buildbots, Dependabot, etc."
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 7,
      "created_at": "2024-12-18T14:34:52Z",
      "updated_at": "2024-12-20T12:46:53Z",
      "closed_at": null,
      "author_association": "MEMBER",
      "active_lock_reason": null,
      "body": "The macOS CI of GitHub Action [failed](https://github.com/python/cpython/actions/runs/12395062344/job/34599936435?pr=128068) in the `Install Homebrew dependencies` step with:\r\n\r\n```\r\nLinking /usr/local/Cellar/tcl-tk@8/8.6.16... \r\nError: Could not symlink lib/libtcl8.6.dylib\r\nTarget /usr/local/lib/libtcl8.6.dylib\r\nis a symlink belonging to tcl-tk@8. You can unlink it:\r\n  brew unlink tcl-tk@8\r\n\r\nTo force the link and overwrite all conflicting files:\r\n  brew link --overwrite tcl-tk@8\r\n\r\nTo list all files that would be deleted:\r\n  brew link --overwrite tcl-tk@8 --dry-run\r\n```\r\n\r\ncc @hugovk @ambv \n\n<!-- gh-linked-prs -->\n### Linked PRs\n* gh-128082\n* gh-128090\n* gh-128096\n* gh-128125\n<!-- /gh-linked-prs -->\n",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/python/cpython/issues/128069/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/python/cpython/issues/128069/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    }
  ]
}